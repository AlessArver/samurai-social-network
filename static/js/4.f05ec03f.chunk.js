(this["webpackJsonpreact.1"]=this["webpackJsonpreact.1"]||[]).push([[4],{224:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Max characters: ".concat(e):void 0}},o=function(e){return function(t){return t&&t.length<e?"Min characters: ".concat(e):void 0}}},225:function(e,t,a){e.exports={form:"forms_form__tHqmU",error:"forms_error__2xJFm",formError:"forms_formError__3e95j"}},226:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return d}));var n=a(2),r=a(56),o=a(227),s=a(0),u=a.n(s),i=a(225),c=a(108),l=a(228),m=a.n(l),p=function(e){var t=e.input,a=e.meta,s=a.touched,c=a.error,l=e.el,p=Object(o.a)(e,["input","meta","el"]),f=s&&c;return u.a.createElement("div",{className:m()(i.form,Object(r.a)({},i.error,f))},u.a.createElement(l,Object(n.a)(Object(n.a)({},t),p)),f&&u.a.createElement("small",null,c))},f=function(e){return u.a.createElement(p,Object.assign({},e,{el:"textarea"}))},b=function(e){return u.a.createElement(p,Object.assign({},e,{el:"input"}))},d=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.a,Object.assign({name:e,placeholder:t,validate:a,component:n},r))," ",o)}},230:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(52),r=a(53),o=a(55),s=a(54),u=a(6),i=a(0),c=a.n(i),l=a(26),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(i,t);var a=Object(s.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),i}(c.a.Component);return Object(l.b)(m)(t)}},232:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(59);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},292:function(e,t,a){e.exports={bigImageWrapper:"ProfileInfo_bigImageWrapper__3TAxq",smallImage:"ProfileInfo_smallImage__3VggN",descriptionBlock:"ProfileInfo_descriptionBlock__2kh2A",buttonsGroup:"ProfileInfo_buttonsGroup__mEHnD",buttonGroupItem:"ProfileInfo_buttonGroupItem__1WWeG"}},293:function(e,t,a){},294:function(e,t,a){e.exports={newPost:"Posts_newPost___GXBB",posts:"Posts_posts__jtVvg"}},295:function(e,t,a){e.exports={newPost:"Post_newPost__mNv8s",post:"Post_post__3Tosk",avatarWrapper:"Post_avatarWrapper__MOuM1",postText:"Post_postText__2iDx6",buttons:"Post_buttons__2PX-B"}},299:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(53),o=a(55),s=a(54),u=a(0),i=a.n(u),c=a(6),l=a(26),m=a(58),p=a(232),f=a(227),b=a(292),d=a.n(b),v=a(45),h=(a(293),a(224)),E=(Object(h.a)(300),function(e){var t=Object(u.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],o=Object(u.useState)(e.status),s=Object(p.a)(o,2),c=s[0],l=s[1];Object(u.useEffect)((function(){return l(e.status)}),[e.status]);return i.a.createElement(i.a.Fragment,null,"Status:",n?i.a.createElement("input",{onChange:function(e){return l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)},value:c}):i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:function(){return r(!0)}},e.status||"No status")))}),g=a(226),j=a(109),O=a(225),_=a.n(O),P=Object(j.a)({form:"profileDataForm"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("button",null,"Save"),Object(g.c)("fullName","Full Name",[],g.a),Object(g.c)("lookingForAJob",null,[],g.a,{type:"checkbox"},"Looking for a job"),Object(g.c)("aboutMe","About me",[],g.b),Object(g.c)("lookingForAJobDescription","My professional skills",[],g.b),i.a.createElement("div",null,"Contacts:"),Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{key:e},Object(g.c)("contacts.".concat(e),e,[],g.a))})),n&&i.a.createElement("div",{className:_.a.formError},n))})),k=function(e){var t=e.title,a=e.value;return i.a.createElement("li",null,i.a.createElement("a",{href:a,target:"_blank"},t))},y=function(e){var t=e.profile;e.isOwner,e.onAvatarSelected,e.activateEdit;return i.a.createElement("div",{className:d.a.descriptionBlock},i.a.createElement("ul",null,Object.keys(t.contacts).map((function(e){return i.a.createElement(k,{title:e,value:t.contacts[e],key:e})}))),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",null,t.fullName)),i.a.createElement("div",null,i.a.createElement("div",null,"About me: ",t.aboutMe||"-")),i.a.createElement("div",null,i.a.createElement("div",null,"Looking for a job: ",t.lookingForAJob?"yes":"no")),i.a.createElement("div",null,i.a.createElement("div",null,"My professional skills: ",t.lookingForAJobDescription||"-"))))},S=function(e){var t=e.profile,a=e.isOwner,n=e.status,r=e.updateStatus,o=e.saveProfile,s=Object(f.a)(e,["profile","isOwner","status","updateStatus","saveProfile"]),c=Object(u.useState)(!1),l=Object(p.a)(c,2),m=l[0],b=l[1];if(!t)return i.a.createElement(v.a,null);var h=function(e){e.target.files.length&&s.saveAvatar(e.target.files[0])};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:d.a.bigImageWrapper},i.a.createElement("img",{src:t.photos.large||"https://cdn2.hubspot.net/hubfs/2221797/cumulus2.jpg",alt:"big image"})),i.a.createElement("img",{src:t.photos.small||"https://data.whicdn.com/images/331901362/original.jpg",className:d.a.smallImage}),i.a.createElement("div",{className:d.a.buttonsGroup},a&&i.a.createElement("button",{onClick:function(){return b(!0)},className:d.a.buttonGroupItem},"Edit"),a&&i.a.createElement("input",{type:"file",onChange:h,className:d.a.buttonGroupItem})),m?i.a.createElement(P,{initialValues:t,profile:t,onSubmit:function(e){return o(e).then((function(){return b(!1)}))}}):i.a.createElement(y,{profile:t,isOwner:a,onAvatarSelected:h}),i.a.createElement(E,{status:n,updateStatus:r}))},A=a(24),w=a(294),N=a(108),I=a(295),x=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:I.post},i.a.createElement("div",{className:"avatar-wrapper"},i.a.createElement("img",{src:"https://data.whicdn.com/images/331901362/original.jpg"})),i.a.createElement("p",{className:I.postText},e.text),i.a.createElement("div",{className:I.buttons},i.a.createElement("div",null,"like ",i.a.createElement("span",null,e.likesCount)))))},F=Object(h.a)(250),C=Object(j.a)({form:"profilePost"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement(N.a,{name:"post",className:w.newPost,placeholder:"Your minds",validate:[h.c,F],component:g.b}),i.a.createElement("button",null,"Submit"))})),G=i.a.memo((function(e){var t=Object(A.a)(e.posts).map((function(e){return i.a.createElement(x,{text:e.text,likesCount:e.likesCount,key:e.id})})).reverse();return i.a.createElement(i.a.Fragment,null,i.a.createElement(C,{onSubmit:function(t){e.addPost(t.post)}}),i.a.createElement("div",{className:w.posts},t))})),M=Object(l.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:m.a})(G),D=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(S,{isOwner:e.isOwner,profile:e.profile,saveAvatar:e.saveAvatar,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),i.a.createElement(M,null))},B=a(230),J=a(17),T=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.id;!e&&this.props.isAuth&&(e=this.props.userId),e||this.props.isAuth||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.id!==e.match.params.id&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(D,Object.assign({},this.props,{isOwner:!this.props.match.params.id,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveAvatar:this.props.saveAvatar}))}}]),a}(i.a.Component);t.default=Object(J.d)(Object(l.b)((function(e){return{userId:e.auth.id,isAuth:e.auth.isAuth,profile:e.profilePage.profile,status:e.profilePage.status}}),{getProfile:m.c,getStatus:m.d,updateStatus:m.g,saveAvatar:m.e,saveProfile:m.f}),c.g,B.a)(T)}}]);
//# sourceMappingURL=4.f05ec03f.chunk.js.map