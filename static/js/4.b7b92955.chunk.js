(this["webpackJsonpreact.1"]=this["webpackJsonpreact.1"]||[]).push([[4],{225:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return m}));var n=a(2),r=a(224),o=a(0),s=a.n(o),i=a(108),l=function(e){var t=e.input,a=e.meta,o=a.touched,i=a.error,l=e.el,u=Object(r.a)(e,["input","meta","el"]),c=o&&i;return s.a.createElement("div",null,s.a.createElement(l,Object(n.a)(Object(n.a)({},t),u)),c&&s.a.createElement("small",null,i))},u=function(e){return s.a.createElement(l,Object.assign({},e,{el:"textarea"}))},c=function(e){return s.a.createElement(l,Object.assign({},e,{el:"input"}))},m=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,Object.assign({name:e,placeholder:t,validate:a,component:n},r))," ",o)}},227:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Max characters: ".concat(e):void 0}},o=function(e){return function(t){return t&&t.length<e?"Min characters: ".concat(e):void 0}}},229:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(56);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},235:function(e,t,a){e.exports={form:"forms_form__tHqmU",error:"forms_error__2xJFm",formError:"forms_formError__3e95j"}},248:function(e,t,a){e.exports={bigImageWrapper:"ProfileInfo_bigImageWrapper__3TAxq",smallImage:"ProfileInfo_smallImage__3VggN",descriptionBlock:"ProfileInfo_descriptionBlock__2kh2A",buttonsGroup:"ProfileInfo_buttonsGroup__mEHnD",buttonGroupItem:"ProfileInfo_buttonGroupItem__1WWeG"}},292:function(e,t,a){e.exports={newPost:"Posts_newPost___GXBB",posts:"Posts_posts__jtVvg"}},293:function(e,t,a){e.exports={newPost:"Post_newPost__mNv8s",post:"Post_post__3Tosk",avatarWrapper:"Post_avatarWrapper__MOuM1",postText:"Post_postText__2iDx6",buttons:"Post_buttons__2PX-B"}},296:function(e,t,a){"use strict";a.r(t);var n=a(54),r=a(55),o=a(62),s=a(61),i=a(0),l=a.n(i),u=a(7),c=a(26),m=a(80),p=a(229),f=a(248),b=a.n(f),d=a(46),v=function(e){var t=Object(i.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(e.status),s=Object(p.a)(o,2),u=s[0],c=s[1];Object(i.useEffect)((function(){return c(e.status)}),[e.status]);return l.a.createElement(l.a.Fragment,null,"Status:",n?l.a.createElement("input",{onChange:function(e){return c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(u)},value:u}):l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){return r(!0)}},e.status||"No status")))},h=a(225),E=a(109),g=a(235),_=a.n(g),j=Object(E.a)({form:"profileDataForm"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("button",null,"Save"),Object(h.c)("fullName","Full Name",[],h.a),Object(h.c)("lookingForAJob",void 0,[],h.a,{type:"checkbox"},"Looking for a job"),Object(h.c)("aboutMe","About me",[],h.b),Object(h.c)("lookingForAJobDescription","My professional skills",[],h.b),l.a.createElement("div",null,"Contacts:"),Object.keys(a.contacts).map((function(e){return l.a.createElement("div",{key:e},Object(h.c)("contacts.".concat(e),e,[],h.a))})),n&&l.a.createElement("div",{className:_.a.formError},n))})),O=function(e){var t=e.title,a=e.value;return l.a.createElement("li",null,l.a.createElement("a",{href:a,target:"_blank"},t))},P=function(e){return l.a.createElement("div",{className:b.a.descriptionBlock},l.a.createElement("ul",null,Object.keys(e.profile.contacts).map((function(t){return l.a.createElement(O,{title:t,value:e.profile.contacts[t],key:t})}))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",null,e.profile.fullName)),l.a.createElement("div",null,l.a.createElement("div",null,"About me: ",e.profile.aboutMe||"-")),l.a.createElement("div",null,l.a.createElement("div",null,"Looking for a job: ",e.profile.lookingForAJob?"yes":"no")),l.a.createElement("div",null,l.a.createElement("div",null,"My professional skills: ",e.profile.lookingForAJobDescription||"-"))))},k=function(e){var t=e.profile,a=e.isOwner,n=e.status,r=e.updateStatus,o=e.saveProfile,s=e.saveAvatar,u=Object(i.useState)(!1),c=Object(p.a)(u,2),m=c[0],f=c[1];if(!t)return l.a.createElement(d.a,null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:b.a.bigImageWrapper},l.a.createElement("img",{src:t.photos.large||"https://cdn2.hubspot.net/hubfs/2221797/cumulus2.jpg",alt:"big image"})),l.a.createElement("img",{src:t.photos.small||"https://data.whicdn.com/images/331901362/original.jpg",className:b.a.smallImage}),l.a.createElement("div",{className:b.a.buttonsGroup},a&&l.a.createElement("button",{onClick:function(){return f(!0)},className:b.a.buttonGroupItem},"Edit"),a&&l.a.createElement("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&s(e.target.files[0])},className:b.a.buttonGroupItem})),m?l.a.createElement(j,{initialValues:t,profile:t,onSubmit:function(e){return o(e).then((function(){return f(!1)}))}}):l.a.createElement(P,{profile:t}),l.a.createElement(v,{status:n,updateStatus:r}))},y=a(24),S=a(292),A=a.n(S),I=a(293),N=a.n(I),x=function(e){var t=e.text,a=e.likesCount;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:N.a.post},l.a.createElement("div",{className:"avatar-wrapper"},l.a.createElement("img",{src:"https://data.whicdn.com/images/331901362/original.jpg"})),l.a.createElement("p",{className:N.a.postText},t),l.a.createElement("div",{className:N.a.buttons},l.a.createElement("div",null,"like ",l.a.createElement("span",null,a)))))},w=a(227),F=Object(w.a)(250),C=Object(E.a)({form:"profilePostForm"})((function(e){var t=e.handleSubmit;return l.a.createElement("form",{onSubmit:t},Object(h.c)("post","Your minds",[w.c,F],h.b),l.a.createElement("button",null,"Submit"))})),G=l.a.memo((function(e){var t=Object(y.a)(e.posts).map((function(e){return l.a.createElement(x,{text:e.text,likesCount:e.likesCount,key:e.id})})).reverse();return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{onSubmit:function(t){return e.addPost(t.post)}}),l.a.createElement("div",{className:A.a.posts},t))})),M=a(33),D=Object(c.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:M.a.addPost})(G),B=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{isOwner:e.isOwner,profile:e.profile,saveAvatar:e.saveAvatar,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),l.a.createElement(D,null))},J=a(17),T=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.id;!e&&this.props.isAuth&&(e=this.props.userId),e||this.props.isAuth||this.props.history.push("/"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!==e.match.params.id&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement(B,Object.assign({},this.props,{isOwner:!this.props.match.params.id,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveAvatar:this.props.saveAvatar,saveProfile:this.props.saveProfile}))}}]),a}(l.a.Component);t.default=Object(J.d)(Object(c.b)((function(e){return{userId:e.auth.id,isAuth:e.auth.isAuth,profile:e.profilePage.profile,status:e.profilePage.status}}),{getProfile:m.b,getStatus:m.c,updateStatus:m.f,saveAvatar:m.d,saveProfile:m.e}),u.g)(T)}}]);
//# sourceMappingURL=4.b7b92955.chunk.js.map