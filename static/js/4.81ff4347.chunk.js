(this["webpackJsonpreact.1"]=this["webpackJsonpreact.1"]||[]).push([[4],{224:function(e,t,a){e.exports={form:"forms_form__tHqmU",error:"forms_error__2xJFm",formError:"forms_formError__3e95j"}},225:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t&&t.length>e?"Max characters: ".concat(e):void 0}},o=function(e){return function(t){return t&&t.length<e?"Min characters: ".concat(e):void 0}}},226:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return d}));var n=a(2),r=a(56),o=a(227),i=a(0),s=a.n(i),c=a(224),u=a(108),l=a(228),m=a.n(l),p=function(e){var t=e.input,a=e.meta,i=a.touched,u=a.error,l=e.el,p=Object(o.a)(e,["input","meta","el"]),f=i&&u;return s.a.createElement("div",{className:m()(c.form,Object(r.a)({},c.error,f))},s.a.createElement(l,Object(n.a)(Object(n.a)({},t),p)),f&&s.a.createElement("small",null,u))},f=function(e){return s.a.createElement(p,Object.assign({},e,{el:"textarea"}))},b=function(e){return s.a.createElement(p,Object.assign({},e,{el:"input"}))},d=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,Object.assign({name:e,placeholder:t,validate:a,component:n},r))," ",o)}},230:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(52),r=a(53),o=a(55),i=a(54),s=a(6),c=a(0),u=a.n(c),l=a(26),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(c,t);var a=Object(i.a)(c);function c(){return Object(n.a)(this,c),a.apply(this,arguments)}return Object(r.a)(c,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(s.a,{to:"/login"})}}]),c}(u.a.Component);return Object(l.b)(m)(t)}},232:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(59);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},292:function(e,t,a){e.exports={bigImageWrapper:"ProfileInfo_bigImageWrapper__3TAxq",smallImage:"ProfileInfo_smallImage__3VggN",descriptionBlock:"ProfileInfo_descriptionBlock__2kh2A"}},293:function(e,t,a){},294:function(e,t,a){e.exports={newPost:"Posts_newPost___GXBB",posts:"Posts_posts__jtVvg"}},295:function(e,t,a){e.exports={newPost:"Post_newPost__mNv8s",post:"Post_post__3Tosk",avatarWrapper:"Post_avatarWrapper__MOuM1",postText:"Post_postText__2iDx6",buttons:"Post_buttons__2PX-B"}},299:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(53),o=a(55),i=a(54),s=a(0),c=a.n(s),u=a(6),l=a(26),m=a(58),p=a(232),f=a(227),b=a(292),d=a(45),v=(a(293),a(224)),h=a.n(v),E=a(226),g=a(225),j=a(109),O=Object(g.a)(300),_=(Object(j.a)({form:"statusForm"})((function(e){var t=e.handleSubmit,a=e.error;return c.a.createElement("form",{onSubmit:t},Object(E.c)("status","Status",[g.c,O],E.a),a&&c.a.createElement("div",{className:h.a.formError},a))})),function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),i=Object(p.a)(o,2),u=i[0],l=i[1];return c.a.createElement(c.a.Fragment,null,n?c.a.createElement("input",{onChange:function(e){return l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(u)},value:u}):c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){return r(!0)}},u||"No status")))}),k=Object(j.a)({form:"profileDataForm"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return c.a.createElement("form",{onSubmit:t},c.a.createElement("button",null,"Save"),Object(E.c)("fullName","Full Name",[],E.a),Object(E.c)("lookingForAJob",null,[],E.a,{type:"checkbox"},"Looking for a job"),Object(E.c)("aboutMe","About me",[],E.b),Object(E.c)("lookingForAJobDescription","My professional skills",[],E.b),c.a.createElement("div",null,"Contacts:"),Object.keys(a.contacts).map((function(e){return c.a.createElement("div",{key:e},Object(E.c)("contacts.".concat(e),e,[],E.a))})),n&&c.a.createElement("div",{className:h.a.formError},n))})),P=function(e){var t=e.title,a=e.value;return c.a.createElement("li",null,c.a.createElement("a",{href:a,target:"_blank"},t))},y=function(e){var t=e.profile;e.isOwner,e.onAvatarSelected,e.activateEdit;return c.a.createElement("div",{className:b.descriptionBlock},c.a.createElement("ul",null,Object.keys(t.contacts).map((function(e){return c.a.createElement(P,{title:e,value:t.contacts[e],key:e})}))),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",null,t.fullName)),c.a.createElement("div",null,c.a.createElement("div",null,"About me: ",t.aboutMe||"-")),c.a.createElement("div",null,c.a.createElement("div",null,"Looking for a job: ",t.lookingForAJob?"yes":"no")),c.a.createElement("div",null,c.a.createElement("div",null,"My professional skills: ",t.lookingForAJobDescription||"-"))))},S=function(e){var t=e.profile,a=e.isOwner,n=e.status,r=e.updateStatus,o=e.saveProfile,i=Object(f.a)(e,["profile","isOwner","status","updateStatus","saveProfile"]),u=Object(s.useState)(!1),l=Object(p.a)(u,2),m=l[0],v=l[1];if(!t)return c.a.createElement(d.a,null);var h=function(e){e.target.files.length&&i.saveAvatar(e.target.files[0])};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:b.bigImageWrapper},c.a.createElement("img",{src:t.photos.large||"https://cdn2.hubspot.net/hubfs/2221797/cumulus2.jpg",alt:"big image"})),a&&c.a.createElement("button",{onClick:function(){return v(!0)}},"Edit"),c.a.createElement("img",{src:t.photos.small||"https://data.whicdn.com/images/331901362/original.jpg",className:b.smallImage}),a&&c.a.createElement("input",{type:"file",onChange:h}),m?c.a.createElement(k,{initialValues:t,profile:t,onSubmit:function(e){return o(e).then((function(){return v(!1)}))}}):c.a.createElement(y,{profile:t,isOwner:a,onAvatarSelected:h}),c.a.createElement(_,{status:n,updateStatus:r}))},A=a(24),w=a(294),N=a(108),x=a(295),F=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:x.post},c.a.createElement("div",{className:"avatar-wrapper"},c.a.createElement("img",{src:"https://data.whicdn.com/images/331901362/original.jpg"})),c.a.createElement("p",{className:x.postText},e.text),c.a.createElement("div",{className:x.buttons},c.a.createElement("div",null,"like ",c.a.createElement("span",null,e.likesCount)))))},I=Object(g.a)(250),C=Object(j.a)({form:"profilePost"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement(N.a,{name:"post",className:w.newPost,placeholder:"Your minds",validate:[g.c,I],component:E.b}),c.a.createElement("button",null,"Submit"))})),M=c.a.memo((function(e){var t=Object(A.a)(e.posts).map((function(e){return c.a.createElement(F,{text:e.text,likesCount:e.likesCount,key:e.id})})).reverse();return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{onSubmit:function(t){e.addPost(t.post)}}),c.a.createElement("div",{className:w.posts},t))})),B=Object(l.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:m.a})(M),D=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{isOwner:e.isOwner,profile:e.profile,saveAvatar:e.saveAvatar,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),c.a.createElement(B,null))},J=a(230),T=a(17),W=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.id;!e&&this.props.isAuth&&(e=this.props.userId),e||this.props.isAuth||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.id!==e.match.params.id&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(D,Object.assign({},this.props,{isOwner:!this.props.match.params.id,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveAvatar:this.props.saveAvatar}))}}]),a}(c.a.Component);t.default=Object(T.d)(Object(l.b)((function(e){return{userId:e.auth.id,isAuth:e.auth.isAuth,profile:e.profilePage.profile,status:e.profilePage.status}}),{getProfile:m.c,getStatus:m.d,updateStatus:m.g,saveAvatar:m.e,saveProfile:m.f}),u.g,J.a)(W)}}]);
//# sourceMappingURL=4.81ff4347.chunk.js.map